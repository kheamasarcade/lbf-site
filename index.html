<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Kheama's Arcade • LBF (Smoke Test)</title>
<style>
  body{margin:0;background:#0b0f17;color:#e5e7eb;font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto}
  .wrap{max-width:900px;margin:24px auto;padding:0 16px}
  h1{margin:0 0 12px;font-weight:800}
  .card{background:#0f172a;border:1px solid #111827;border-radius:12px;padding:16px}
  code{background:#0c1426;padding:2px 6px;border-radius:6px}
  .ok{color:#86efac}.err{color:#fca5a5}
  ul{padding-left:18px}
  .row{margin:6px 0}
</style>
</head>
<body>
<div class="wrap">
  <h1>Kheama's Arcade • Lurk Bait Fishing</h1>
  <div class="card">
    <div class="row">If this shows <span class="ok">OK</span> lines with counts, hosting and JSON are fine. Then we’ll drop the full UI back in.</div>
    <div id="log" class="row">Loading…</div>
  </div>
</div>
<script>
(function(){
  var URLS = {
    dex: "https://dl.dropboxusercontent.com/scl/fi/nmqf6rewo4pweftrfrjfb/dex.json?rlkey=h9z371ywynt7sqffywvbks2zn&e=1",
    leaderboard: "https://dl.dropboxusercontent.com/scl/fi/kg5tqpy0ov9m91tow1ocx/leaderboard.json?rlkey=mt10x1671vkrpw38ma5sk34v7",
    meta: "https://dl.dropboxusercontent.com/scl/fi/9r52wq4ine1b762k65bwv/meta.json?rlkey=g8myfhiuk1k4uncwq4ijt84i4",
    players: "https://dl.dropboxusercontent.com/scl/fi/dsjdjr66cjldyxbm14146/players.json?rlkey=kkfhgf47oxr1n5sjcsvrkh7xv",
    recent: "https://dl.dropboxusercontent.com/scl/fi/xsc6dg1sqsuqt0dd60u5y/recent.json?rlkey=15jkp0g6mfjz93e25lsp929pl",
    seasonBests: "https://dl.dropboxusercontent.com/scl/fi/ozchhaapgvoobfismr8wx/season_bests.json?rlkey=5tvggcnnv13q1i46f0vhbfztl"
  };
  var log = document.getElementById("log");
  function write(html){ log.innerHTML += html; }
  log.innerHTML = "<div>Fetching Dropbox JSON…</div><ul id='list'></ul>";
  var list = document.getElementById("list");

  function add(status, name, extra){
    var li = document.createElement("li");
    li.innerHTML = "<strong>" + name + "</strong>: " + status + (extra ? " — " + extra : "");
    list.appendChild(li);
  }

  function countish(j){
    if (Array.isArray(j)) return j.length + " rows";
    if (j && typeof j === "object") {
      var k = Object.keys(j);
      return "object: " + k.length + " keys";
    }
    return typeof j;
  }

  function fetchJson(name, url){
    return fetch(url, {cache:"no-store"}).then(function(r){
      if(!r.ok) throw new Error("HTTP " + r.status);
      return r.json();
    }).then(function(j){
      add("<span class='ok'>OK</span>", name, countish(j));
      return j;
    }).catch(function(e){
      add("<span class='err'>ERROR</span>", name, e.message);
      throw e;
    });
  }

  // run all
  Promise.all([
    fetchJson("leaderboard", URLS.leaderboard),
    fetchJson("season_bests", URLS.seasonBests),
    fetchJson("recent", URLS.recent),
    fetchJson("players", URLS.players),
    fetchJson("dex", URLS.dex),
    fetchJson("meta", URLS.meta)
  ]).then(function(){
    write("<div class='ok'>All good. Next step: swap in the full UI.</div>");
  }).catch(function(){
    write("<div class='err'>At least one file failed. Fix the red item above (share setting or link).</div>");
  });
})();
</script>
</body>
</html>
